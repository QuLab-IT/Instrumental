<?xml version="1.0" encoding="Windows-1252"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd" MadCap:id="AM Subsystem Introduction" MadCap:timeEstimate="0" MadCap:priority="0" MadCap:status="In Progress" MadCap:tocPath="" MadCap:InPreviewMode="false" MadCap:PreloadImages="false" MadCap:RuntimeFileType="Topic" MadCap:TargetType="HtmlHelp" MadCap:PathToHelpSystem="../" MadCap:HelpSystemFileName="Agilent_33500_Series_Operating_and_Service_Guide.xml" MadCap:SearchType="Stem">
    <head>
        <link href="../RegTable.css" rel="stylesheet" MadCap:stylesheetType="table" /><title>Self-Test Procedures</title>
        <link rel="StyleSheet" href="../dds_best_rh.css" />
        
        
        
        
        
    </head>
    <body>
        <h1><a name="kanchor475"></a>Self-Test&#160;Procedures</h1>
        <h2>Power-On Self-Test</h2>
        <p>Each time the instrument is powered on, a subset of self-tests are performed. These tests check that the minimum set of logic and subsystems are functioning properly.</p>
        <h2>Full Self-Test</h2>
        <p>Passing self-test provides a high degree of confidence that instrument is operating normally. Self-test procedure systematically exercises internal oscillator, digital infrastructure, waveform memory, and analog attenuator paths. It attempts to isolate failures to a particular assembly to facilitate service. During the test, instrument main output(s) are disconnected internally from the BNC connectors and are connected to the internal ADC, which checks for expected signal levels throughout the instrument.</p>
        <p>A complete self-test (<a href="../__I_SCPI/IEEE-488_Subsystem.htm#TST">*TST?</a>) takes approximately 15 seconds. You may hear relays switching during the procedure. When self-test completes, either "Self-test Passed" or "Self-test Failed" appears on front panel. Self-test error messages are described in detail below.</p>
        <p>Execute self-test  before any  verifications or adjustments.</p>
        <h2>To Run Self-Test</h2>
        <p>Remove all input connections to instrument before self-test. Cycle power to run power-on self-test.</p>
        <h3>Remote I/O Execution</h3>
        <ol>
            <li class="IndentTight" value="1">Connect to instrument using remote interface (<a href="../__D_Front-Panel%20Menu%20Operation/03%20LAN%20Configuration%20Procedure.htm">LAN Configuration Procedure</a>).</li>
            <li class="IndentTight" value="2">Send <a href="../__I_SCPI/IEEE-488_Subsystem.htm#TST">*TST?</a> and read the result: Pass (+0) or fail (+1). Use <a href="../__I_SCPI/SYSTem_Subsystem.htm#SYSTem_ERRor">SYSTem:ERRor?</a> to view errors.</li>
        </ol>
        <h3>Front Panel Execution</h3>
        <ol>
            <li class="IndentTight" value="1">Press	<b>[System] &gt; Instr Setup &gt;&#160;Self Test</b>.</li>
            <li class="IndentTight" value="2">A progress bar will appear as self-test executes. After completion, view any failures by pressing <b>[System] &gt; Help</b> and then choosing the topic <b>View remote command error queue</b>.</li>
        </ol>
        <h2><a name="Self-TestErrors"></a>Self-Test Error Numbers and Messages</h2>
        <p>A failure can generate multiple error messages; the first one should be considered the primary cause of failure. Some error messages include a failing channel number (1 or 2), shown as n in the messages below.</p>
        <table style="mc-table-style: url('../RegTable.css');caption-side: top;margin-left: 0;margin-right: auto;" class="TableStyle-RegTable" cellspacing="0">
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <col class="Column-Column1" />
            <thead>
                <tr class="Head-Header1">
                    <th class="HeadE-Column1-Header1">Error</th>
                    <th class="HeadE-Column1-Header1">Message and Meaning</th>
                    <th class="HeadD-Column1-Header1">Probable Cause</th>
                </tr>
            </thead>
            <tbody>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">601</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; real time clock settings lost</b><br /><br />Real time clock's date-time settings were lost, likely due a disconnected or discharged RTC battery (coin cell found on the front panel board). Error can also occur if processor board is removed and reinserted into front-panel assembly. This error condition is captured at power-on, and will be reported by self-test until the problem is corrected and power is cycled.</td>
                    <td class="BodyD-Column1-Body1">RTC Battery</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">602</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; main CPU power supply out of range</b>
                        <p>Processor board detected that one of its supplies was more than 10% out of the nominal voltage range.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Processor Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">603</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; main CPU error accessing boot env</b>
                        <p>Processor wasn't able to access its boot parameters from flash, possibly due to out of date firmware, or a problem on the processor board.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Processor Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">604</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; front panel processor ping failed</b>
                        <p>Processor board tried to read front panel revision code and received a 0, possibly due to un-programmed front panel processor,  unseated processor board, or defective front panel processor.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Front Panel Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">605</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; waveform FPGA not programmed</b>
                        <p>Processor could not program the waveform FPGA (U1005) at boot-up. The hardware will not work properly.</p>
                    </td>
                    <td class="BodyD-Column1-Body1" rowspan="5">Processor Board or Main Board. See <a href="04%20Troubleshooting.htm#Self-TestErrors606-609">Troubleshooting</a> for additional information on troubleshooting errors 605-609.</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">606</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; waveform FPGA revision check failed</b>
                        <p>Processor tried to read the revision register from the waveform FPGA (U1005) and received an invalid value, possibly due to un-programmed FPGA or internal SPI communications failure.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">607</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; waveform FPGA read back error</b><p>Processor was unable to write and read back from a test location in the waveform FPGA (U1005), possibly due to un-programmed FPGA or internal SPI communications failure.</p></td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">608</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; waveform FPGA security check failed</b>
                        <p>Waveform FPGA (U1005) failed internal security check, possibly due to FPGA failures (tests 605-608), invalid FPGA image, or malfunctioning security device (U1007).  Self-test exits on this failure.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">609</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; waveform FPGA security check failed</b>
                        <p>Waveform FPGA (U1005) failed internal security check, possibly due to FPGA failures (tests 605-608), invalid FPGA image, or malfunctioning security device (U1007).  Self-test exits on this failure.</p>
                    </td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">610</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; main PLL not locked</b>
                        <p>Waveform FPGA (U1005) unable to lock to internal 10MHz oscillator (U903 or U905).</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">611</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; FPGA PLL not locked</b><p>Waveform FPGA (U1005) unable to lock to internal sample clock generator IC (U906).</p></td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">612</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, waveform memory PLL not locked</b>
                        <p>Waveform RAM for indicated channel (U1101 or U1102) was unable to lock to its clock.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">613</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, waveform memory not initialized</b>
                        <p>Waveform RAM for indicated channel (U1101 or U1102) failed to initialize.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">615</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; modulation ADC offset too low (too high)<br /></b>
                        <p>Internal ADC's measurement of ACOM out of limits.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">616</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; modulation ADC reference too low (too high)</b><br /><p>Internal ADC's measurement of its voltage reference (VRef) was out of limits.</p></td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">620</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; Chan n, waveform memory test failed on idle</b><p>Waveform memory test not started properly, probably due to error in waveform FPGA (U1005)</p></td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">621</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, waveform memory test failed</b>
                        <p>Waveform RAM memory test for the indicated channel (U1101 or U1102) failed; test consists of writing and reading back the entire waveform RAM with a predetermined pattern.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">625</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, waveform DAC gain[idx] too low (too high)</b>
                        <p>Waveform DAC (U1801 or U1501) not providing correct output. Gain [idx] of 1 references POS voltage test; gain [idx] of 2 references NEG voltage test.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">630</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, sub attenuator failure 0dB</b>
                        <p>Trim DAC inside waveform DAC (U1801 or U1501) not providing correct output at 0 dB. If this fails, test 631 will not be executed.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">631</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, sub attenuator &lt;-7.00 to 0.00&gt;dB too low (too high)</b>
                        <p>Trim DAC inside waveform DAC (U1801 or U1501) producing output outside expected range.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">635</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; Chan n, null DAC gain[idx] too low (too high)</b><p>Aux DAC output of waveform DAC (U1801 or U1501) or its associated analog circuitry producing output outside expected range. Gain [idx] of 1 references POS voltage test; gain [idx] of 2 references NEG voltage test.</p></td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">640</td>
                    <td class="BodyE-Column1-Body1"><b>Self-test failed; Chan n, offset DAC gain[idx] too low (too high)</b>
                        <p>Offset DAC (U1702 or U2002) or its associated circuitry producing output outside expected range. For offset DAC, [idx] polarities are inverted: gain [idx] of 1 references NEG voltage test; gain [idx] of 2 references POS voltage test.</p>
                    </td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyE-Column1-Body1">650</td>
                    <td class="BodyE-Column1-Body1">Self-test failed<b>; Chan n, 0dB path failure expected 0dB, measured value dB</b><p>Straight-through path  (no attenuator) from waveform DAC to ADC input producing output outside expected range. If this fails, extended attenuator test 655 is not executed.</p></td>
                    <td class="BodyD-Column1-Body1">Main Board</td>
                </tr>
                <tr class="Body-Body1">
                    <td class="BodyB-Column1-Body1">655</td>
                    <td class="BodyB-Column1-Body1">Self-test failed<b>; Chan n, -8 dB pre attenuator path too low (too high)</b><br style="font-weight: bold;" />Self-test failed<b>; Chan n, -16 dB pre attenuator path too low (too high)</b><br style="font-weight: bold;" />Self-test failed<b>; Chan n, -24 dB pre attenuator path too low (too high)</b><br style="font-weight: bold;" />Self-test failed<b>; Chan n, -24 dB post attenuator path too low (too high)</b><p>Specified attenuator relay malfunctioning, or associated circuitry not providing expected attenuation.</p></td>
                    <td class="BodyA-Column1-Body1">Main Board</td>
                </tr>
            </tbody>
        </table>
        
    </body>
</html>